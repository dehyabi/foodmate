(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[954],{53:(e,t,r)=>{Promise.resolve().then(r.bind(r,388))},388:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(5155),s=r(2115),l=r(5695),i=r(4835),n=r(4783),o=r(8305),d=r(3568);function h(e){let{children:t}=e,r=(0,l.useRouter)(),[h,c]=(0,s.useState)(!1),[u,f]=(0,s.useState)(null);if((0,s.useEffect)(()=>{let e=localStorage.getItem("user");if(!e)return void r.push("/login");try{let t=JSON.parse(e);"user"!==t.role?r.push("/login"):f(!0)}catch(e){localStorage.removeItem("user"),r.push("/login")}},[r]),null===u)return null;let m=()=>{let e=localStorage.getItem("user");if(!e)return;let t=JSON.parse(e),a=JSON.parse(localStorage.getItem("registeredUsers")||"[]").map(e=>e.email===t.email?{...e,status:"offline"}:e);localStorage.setItem("registeredUsers",JSON.stringify(a)),localStorage.removeItem("user"),r.push("/login")};return(0,a.jsxs)("div",{className:"relative min-h-screen flex",children:[(0,a.jsx)(d.l$,{position:"top-right"}),(0,a.jsxs)("aside",{className:"hidden md:flex flex-col w-64 bg-white/30 backdrop-blur-md border-r border-white/20 p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold mb-6",children:"User Panel"}),(0,a.jsx)(o.w,{}),(0,a.jsxs)("button",{onClick:m,className:"flex items-center gap-2 mt-auto text-red-500 hover:text-red-700",children:[(0,a.jsx)(i.A,{size:18}),"Logout"]})]}),(0,a.jsx)("button",{className:"md:hidden absolute top-12 right-12 z-50 bg-white/70 p-1 rounded",onClick:()=>c(!h),children:(0,a.jsx)(n.A,{})}),h&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",children:(0,a.jsxs)("div",{className:"w-64 h-full bg-white/80 backdrop-blur-md p-6 shadow-lg",children:[(0,a.jsx)(o.w,{}),(0,a.jsxs)("button",{className:"mt-6 text-red-500 absolute bottom-4 ml-5",onClick:()=>{c(!1),m()},children:[(0,a.jsx)(i.A,{size:18,className:"inline mr-2"}),"Logout"]})]})}),(0,a.jsx)("main",{className:"flex-1 p-6",children:t})]})}},2596:(e,t,r)=>{"use strict";function a(){for(var e,t,r=0,a="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,a,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var l=t.length;for(r=0;r<l;r++)t[r]&&(a=e(t[r]))&&(s&&(s+=" "),s+=a)}else for(a in t)t[a]&&(s&&(s+=" "),s+=a);return s}(e))&&(a&&(a+=" "),a+=t);return a}r.d(t,{$:()=>a,A:()=>s});let s=a},4835:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5695:(e,t,r)=>{"use strict";var a=r(8999);r.o(a,"usePathname")&&r.d(t,{usePathname:function(){return a.usePathname}}),r.o(a,"useRouter")&&r.d(t,{useRouter:function(){return a.useRouter}})},5747:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(9946).A)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])},8305:(e,t,r)=>{"use strict";r.d(t,{w:()=>x});var a=r(5155),s=r(6874),l=r.n(s),i=r(5695),n=r(2115),o=r(9946);let d=(0,o.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),h=(0,o.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var c=r(5747);let u=(0,o.A)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var f=r(1976);let m=(0,o.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var p=r(2596);function x(){let e=(0,i.usePathname)(),[t,r]=(0,n.useState)(null);if((0,n.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let t=JSON.parse(e);r(t)}catch(e){console.error("Invalid user data in localStorage")}},[]),!t)return null;let s=[{href:"/admin/dashboard",icon:(0,a.jsx)(d,{}),label:"Dashboard"},{href:"/admin/users",icon:(0,a.jsx)(h,{}),label:"Users"},{href:"/admin/restaurants",icon:(0,a.jsx)(c.A,{}),label:"Restaurants"},{href:"/admin/orders",icon:(0,a.jsx)(u,{}),label:"Orders"}],o=[{href:"/dashboard",icon:(0,a.jsx)(d,{}),label:"Dashboard"},{href:"/dashboard/restaurants",icon:(0,a.jsx)(c.A,{}),label:"Restaurants"},{href:"/dashboard/orders",icon:(0,a.jsx)(u,{}),label:"My Orders"},{href:"/dashboard/favorites",icon:(0,a.jsx)(f.A,{}),label:"Favorites"},{href:"/dashboard/profile",icon:(0,a.jsx)(m,{}),label:"Profile"}],x="admin"===t.role?s:o;return(0,a.jsx)("nav",{className:"flex flex-col space-y-2",children:x.map(t=>{let{href:r,icon:s,label:i}=t;return(0,a.jsxs)(l(),{href:r,className:(0,p.A)("flex items-center px-4 py-2 rounded-3xl hover:bg-white/40 transition",e===r?"bg-white/60 font-semibold":"text-gray-700"),children:[(0,a.jsx)("span",{className:"mr-2",children:s}),i]},r)})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[220,71,441,684,358],()=>t(53)),_N_E=e.O()}]);