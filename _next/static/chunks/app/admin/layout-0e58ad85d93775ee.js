(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{1243:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>d});var r=t(5155),s=t(2115),l=t(5695),i=t(4835),n=t(4783),o=t(8305);function d(e){let{children:a}=e,t=(0,l.useRouter)(),[d,c]=(0,s.useState)(!1),[h,u]=(0,s.useState)(null);if((0,s.useEffect)(()=>{let e=localStorage.getItem("user");if(!e)return void t.push("/login");"admin"!==JSON.parse(e).role?t.push("/login"):u(!0)},[t]),null===h)return null;let m=()=>{let e=localStorage.getItem("user");if(!e)return void t.push("/login");let a=JSON.parse(e),r=JSON.parse(localStorage.getItem("registeredUsers")||"[]").map(e=>e.email===a.email?{...e,status:"offline"}:e);localStorage.setItem("registeredUsers",JSON.stringify(r)),localStorage.removeItem("user"),t.push("/login")};return(0,r.jsxs)("div",{className:"relative min-h-screen flex",children:[(0,r.jsx)("div",{className:"absolute inset-0 -z-10 bg-cover bg-center opacity-60 backdrop-blur-sm",style:{backgroundImage:"url('/bg-foodmate.webp')"}}),(0,r.jsxs)("aside",{className:"hidden md:flex flex-col w-64 bg-white/30 backdrop-blur-md border-r border-white/20 p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-6",children:"Admin Panel"}),(0,r.jsx)(o.w,{}),(0,r.jsxs)("button",{onClick:m,className:"flex items-center gap-2 mt-auto text-red-500 hover:text-red-700",children:[(0,r.jsx)(i.A,{size:18}),"Logout"]})]}),(0,r.jsx)("button",{className:"md:hidden absolute top-12 right-12 z-50 bg-white/70 p-1 rounded",onClick:()=>c(!d),children:(0,r.jsx)(n.A,{})}),d&&(0,r.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 md:hidden",children:(0,r.jsxs)("div",{className:"w-64 h-full bg-white/80 backdrop-blur-md p-6 shadow-lg",children:[(0,r.jsx)(o.w,{}),(0,r.jsxs)("button",{className:"mt-6 text-red-500 absolute bottom-4 ml-5",onClick:()=>{c(!1),m()},children:[(0,r.jsx)(i.A,{size:18,className:"inline mr-2"}),"Logout"]})]})}),(0,r.jsx)("main",{className:"flex-1 p-6",children:a})]})}},1976:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},2596:(e,a,t)=>{"use strict";function r(){for(var e,a,t=0,r="",s=arguments.length;t<s;t++)(e=arguments[t])&&(a=function e(a){var t,r,s="";if("string"==typeof a||"number"==typeof a)s+=a;else if("object"==typeof a)if(Array.isArray(a)){var l=a.length;for(t=0;t<l;t++)a[t]&&(r=e(a[t]))&&(s&&(s+=" "),s+=r)}else for(r in a)a[r]&&(s&&(s+=" "),s+=r);return s}(e))&&(r&&(r+=" "),r+=a);return r}t.d(a,{$:()=>r,A:()=>s});let s=r},4835:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},5695:(e,a,t)=>{"use strict";var r=t(8999);t.o(r,"usePathname")&&t.d(a,{usePathname:function(){return r.usePathname}}),t.o(r,"useRouter")&&t.d(a,{useRouter:function(){return r.useRouter}})},5747:(e,a,t)=>{"use strict";t.d(a,{A:()=>r});let r=(0,t(9946).A)("utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]])},8076:(e,a,t)=>{Promise.resolve().then(t.bind(t,1243))},8305:(e,a,t)=>{"use strict";t.d(a,{w:()=>p});var r=t(5155),s=t(6874),l=t.n(s),i=t(5695),n=t(2115),o=t(9946);let d=(0,o.A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),c=(0,o.A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]]);var h=t(5747);let u=(0,o.A)("clipboard-list",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);var m=t(1976);let f=(0,o.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var b=t(2596);function p(){let e=(0,i.usePathname)(),[a,t]=(0,n.useState)(null);if((0,n.useEffect)(()=>{let e=localStorage.getItem("user");if(e)try{let a=JSON.parse(e);t(a)}catch(e){console.error("Invalid user data in localStorage")}},[]),!a)return null;let s=[{href:"/admin/dashboard",icon:(0,r.jsx)(d,{}),label:"Dashboard"},{href:"/admin/users",icon:(0,r.jsx)(c,{}),label:"Users"},{href:"/admin/restaurants",icon:(0,r.jsx)(h.A,{}),label:"Restaurants"},{href:"/admin/orders",icon:(0,r.jsx)(u,{}),label:"Orders"}],o=[{href:"/dashboard",icon:(0,r.jsx)(d,{}),label:"Dashboard"},{href:"/dashboard/restaurants",icon:(0,r.jsx)(h.A,{}),label:"Restaurants"},{href:"/dashboard/orders",icon:(0,r.jsx)(u,{}),label:"My Orders"},{href:"/dashboard/favorites",icon:(0,r.jsx)(m.A,{}),label:"Favorites"},{href:"/dashboard/profile",icon:(0,r.jsx)(f,{}),label:"Profile"}],p="admin"===a.role?s:o;return(0,r.jsx)("nav",{className:"flex flex-col space-y-2",children:p.map(a=>{let{href:t,icon:s,label:i}=a;return(0,r.jsxs)(l(),{href:t,className:(0,b.A)("flex items-center px-4 py-2 rounded-3xl hover:bg-white/40 transition",e===t?"bg-white/60 font-semibold":"text-gray-700"),children:[(0,r.jsx)("span",{className:"mr-2",children:s}),i]},t)})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[220,441,684,358],()=>a(8076)),_N_E=e.O()}]);